webpackJsonp([36],{1119:function(t,e,i){"use strict";var n=i(740),r=i(1333),s=i(2),o=s(n.a,r.a,null,null,null);e.a=o.exports},1120:function(t,e,i){"use strict";var n=i(741),r=i(1334),s=i(2),o=s(n.a,r.a,null,null,null);e.a=o.exports},1309:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"reference"},[i("pg-search-form",{attrs:{"default-form":t.defaultQuery,more:t.moreQuery,"is-show-more":t.isShowMoreQuery,"reset-form":t.query},on:{openMore:t.toggleOpen,search:t.search},slot:"search-form",model:{value:t.query,callback:function(e){t.query=e},expression:"query"}}),t._v(" "),i("div",{staticClass:"pg_content"},[i("pg-operations",{attrs:{btns:t.operations},on:{add:t.add}}),t._v(" "),i("pg-table",{attrs:{id:"print_table",list:t.articleList},on:{edit:t.edit,deleteOne:t.deleteOne,detail:t.detail}}),t._v(" "),i("pg-pagination",{attrs:{"page-size":t.pageSize,total:t.total},on:{"size-change":t.sizeChange,"current-change":t.currentChange},slot:"pagination"})],1),t._v(" "),i("pg-edit",{attrs:{title:t.editTitle,articleBaseType:t.articleTypes,show:t.showEdit,isEdit:t.isEdit,editForm:t.editForm},on:{close:t.closeEdit}})],1)},r=[],s={render:n,staticRenderFns:r};e.a=s},1333:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("pg-box",{attrs:{isShowBox:t.show},on:{close:function(e){t.close("0")}}},[i("div",[i("div",{staticClass:"box_title"},[t._v(t._s(t.title))]),t._v(" "),i("el-form",{ref:"form",attrs:{model:t.form,"label-width":"150px",inline:!0}},[i("el-form-item",{attrs:{label:"文章标题："}},[i("el-input",{model:{value:t.form.name,callback:function(e){t.form.name=e},expression:"form.name"}})],1),t._v(" "),i("br"),t._v(" "),i("el-form-item",{attrs:{label:"文章描述："}},[i("el-input",{attrs:{type:"textarea"},model:{value:t.form.description,callback:function(e){t.form.description=e},expression:"form.description "}})],1),t._v(" "),i("br"),t._v(" "),i("br"),t._v(" "),i("el-form-item",{attrs:{label:"文章归属："}},[i("el-select",{model:{value:t.form.articleType,callback:function(e){t.form.articleType=e},expression:"form.articleType"}},t._l(t.articleBaseType,function(t){return i("el-option",{attrs:{label:t.text,value:t.sortId}})}))],1),t._v(" "),i("br"),t._v(" "),i("el-form-item",{attrs:{label:"文章分类："}},[i("el-select",{on:{change:t.changeF},model:{value:t.first,callback:function(e){t.first=e},expression:"first"}},t._l(t.FArticleType,function(t){return i("el-option",{attrs:{label:t.text,value:t.value}})})),t._v(" "),i("el-select",{model:{value:t.second,callback:function(e){t.second=e},expression:"second"}},t._l(t.SArticleType,function(t){return i("el-option",{attrs:{label:t.text,value:t.value}})}))],1),t._v(" "),i("br"),t._v(" "),i("el-form-item",{attrs:{label:"主图："}},[i("pg-img-upload",{attrs:{image:t.imgurl},on:{success:t.success}})],1),t._v(" "),i("br"),t._v(" "),i("div",{staticStyle:{"margin-left":"11%"}},[i("el-checkbox",{model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("推荐上咨询轮播")])],1),t._v(" "),i("br"),t._v(" "),i("el-form-item",{attrs:{label:"详细内容："}},[i("pg-editor",{ref:"contentEditor",attrs:{"init-content":t.content},model:{value:t.form.content,callback:function(e){t.form.content=e},expression:"form.content"}})],1),t._v(" "),i("br"),t._v(" "),i("el-form-item",{staticClass:"el-form-item_btns"},["2"!=t.isEdit?i("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.save}},[t._v("保存")]):t._e(),t._v(" "),i("el-button",{attrs:{size:"small"},on:{click:t.close}},[t._v("返回")])],1)],1)],1)])},r=[],s={render:n,staticRenderFns:r};e.a=s},1334:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,"highlight-current-row":"",border:"",stripe:""}},[i("el-table-column",{attrs:{align:"center",fixed:"left",type:"selection",width:"55"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"name",label:"文章名称","min-width":"150"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"articleTypeDesc",label:"文章归属","min-width":"150"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"categoryLongName",label:"文章分类","min-width":"150"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"createTime",label:"建立时间","min-width":"150"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"creater",label:"发布者","min-width":"150"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"editor",label:"最后更新者",width:"300"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",fixed:"right",label:"操作","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("pg-button-group",[i("pg-button",{attrs:{icon:"chakan"},on:{click:function(i){t.detail(e.row)}}},[t._v("查看")]),t._v(" "),i("pg-button",{attrs:{icon:"xiugai"},on:{click:function(i){t.edit(e.row)}}},[t._v("编辑")]),t._v(" "),i("pg-button",{attrs:{icon:"shezhidengji"},on:{click:function(i){t.deleteOne(e.row)}}},[t._v("删除")])],1),t._v(" "),i("pg-button",{attrs:{icon:"shezhidengji"}})]}}])})],1)},r=[],s={render:n,staticRenderFns:r};e.a=s},246:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(742),r=i(1309),s=i(2),o=s(n.a,r.a,null,null,null);e.default=o.exports},740:function(t,e,i){"use strict";var n=i(1),r=i.n(n),s=i(889);e.a=r()({},s.a)},741:function(t,e,i){"use strict";var n=i(1),r=i.n(n),s=i(890);e.a=r()({},s.a)},742:function(t,e,i){"use strict";var n=i(1),r=i.n(n),s=i(891);e.a=r()({},s.a)},889:function(t,e,i){"use strict";var n=i(46),r=(i.n(n),i(30));e.a={props:{title:String,show:Boolean,isEdit:String,editForm:Object,isNew:Boolean,articleBaseType:Array},data:function(){return{form:{articleID:"",name:"",articleCategoryID:"",description:"",articleType:"",imgUrl:"",recommendFlag:0,content:""},imgurl:"",initForm:{articleID:"",name:"",articleCategoryID:"",description:"",articleType:"",imgUrl:"",recommendFlag:0,content:""},content:"",FArticleType:[],SArticleType:[],first:"",second:"",checked:!1}},watch:{editForm:function(t){this.getArticleType(""),this.setForm(this.editForm)}},created:function(){this.setForm(this.editForm)},methods:{resetForm:function(){this.form=i.i(n.cloneDeep)(this.initForm),this.content="",this.first="",this.second="",this.checked=!1,this.imgurl=""},setForm:function(t){var e=this;"0"==this.isEdit||"2"==this.isEdit?(this.form=i.i(n.cloneDeep)(this.editForm),this.content=this.form.content,this.imgurl=this.form.imgUrl,this.$nextTick(function(){null==e.form.parentArticleCategoryID||""==e.form.parentArticleCategoryID?(e.first=e.form.articleCategoryID,e.second=""):(e.first=e.form.parentArticleCategoryID,e.second=e.form.articleCategoryID)})):this.resetForm()},close:function(t){this.$emit("close",t)},save:function(){var t=this;""==this.second?this.form.articleCategoryID=this.first:this.form.articleCategoryID=this.second,this.checked&&this.form,r.l.saveArticle(this.form).then(function(e){t.$message({message:"保存成功",type:"success"}),t.close("1")})},changeF:function(t){this.second="",this.getArticleType(t)},getArticleType:function(t){var e=this;r.l.getArticleTypeList(t).then(function(i){""!=t&&null!=t?e.SArticleType=i:e.FArticleType=i})},success:function(t){this.form.imgUrl=t}}}},890:function(t,e,i){"use strict";i(30);e.a={props:{list:Array},methods:{edit:function(t){this.$emit("edit",t)},detail:function(t){this.$emit("detail",t)},deleteOne:function(t){this.$emit("deleteOne",t)}}}},891:function(t,e,i){"use strict";var n=i(1120),r=i(1119),s=i(30);e.a={components:{PgTable:n.a,PgEdit:r.a},data:function(){return{isShowMoreQuery:!1,query:{articleType:-1,name:"",articleCategoryID:""},page:1,pageSize:15,total:40,selected:[],editTitle:"编辑",editForm:{},isEdit:"0",showEdit:!1,articleList:[],operations:[{name:"新增",action:"add",type:"primary"}],articleTypes:[],articleCategory:[]}},computed:{defaultQuery:{get:function(){return[{type:"select",label:"全部归属",model:"articleType",text:"text",value:"sortId",options:this.articleTypes},{type:"select",label:"全部分类",model:"articleCategoryID",text:"text",value:"value",options:this.articleCategory}]}},moreQuery:{get:function(){return[{type:"input",label:"咨询名称",model:"name"}]}}},methods:{toggleOpen:function(t){this.isShowMoreQuery=t},search:function(){this.queryArticleList()},currentChange:function(t){this.page=t},sizeChange:function(t){this.pageSize=t},edit:function(t){var e=this;s.l.getArticleDetail(t.articleID).then(function(t){e.editForm=t,e.showEdit=!0,e.isEdit="0",e.editTitle="编辑"})},add:function(){this.showEdit=!0,this.isEdit="1",this.editTitle="新增",this.editForm={}},detail:function(t){var e=this;s.l.getArticleDetail(t.articleID).then(function(t){e.editForm=t,e.showEdit=!0,e.isEdit="2",e.editTitle="详情"})},deleteOne:function(t){var e=this;this.$confirm("确定删除吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){s.l.deleteArticle(t.articleID).then(function(t){e.$message({message:"删除成功",type:"success"}),e.search()})}).catch(function(){})},selects:function(){this.isShowSelects=!0,this.isEdit=!1,this.titleSelects="资讯分类",this.editForm={}},closeEdit:function(t){this.showEdit=!1,"1"==t&&this.search()},closeSelects:function(){this.isShowSelects=!1},queryArticleList:function(){var t=this;s.l.getArticlePageList(this.query,this.page,this.pageSize).then(function(e){t.total=e.totalCount,t.page=e.page,t.articleList=e.data})},getArticleType:function(){var t=this;s.l.getArticleTypeList(null).then(function(e){t.articleCategory=e})},getArticleBaseType:function(){var t=this;s.l.getArticleBaseType().then(function(e){t.articleTypes=e,t.articleTypes.splice(0,0,{text:"不限",sortId:-1})})}},mounted:function(){this.getArticleBaseType(),this.search(),this.getArticleType()},watch:{page:function(t){this.search()},pageSize:function(t){this.search()}}}}});