webpackJsonp([9],{1023:function(t,e,i){e=t.exports=i(6)(),e.push([t.i,".el-form-item_btns[data-v-0b53840d]{display:block}.close_btn[data-v-0b53840d]{margin-top:20px}.flagTimeline[data-v-0b53840d]{text-align:center}.order_info[data-v-0b53840d]{margin:20px 0;background-color:#eff2f7;height:50px;line-height:50px;font-size:0;width:100%}.order_info .order_info_item[data-v-0b53840d]{display:inline-block;text-align:center;font-size:16px;width:30%}.order_info .order_info_item[data-v-0b53840d]:first-child{min-width:270px}.order_content[data-v-0b53840d]{padding:0 20px;border:1px solid #e5e9f2;margin:10px 0}.order_content .title[data-v-0b53840d]{display:block;margin:10px 0}.order_content .price_item[data-v-0b53840d]{margin:15px;text-align:right}.order_content .price_item .price[data-v-0b53840d],.order_content .price_item .title[data-v-0b53840d]{display:inline-block;width:150px;text-align:right}.activePrice[data-v-0b53840d]{text-decoration:line-through}.good[data-v-0b53840d]{text-align:left}.good .good-img[data-v-0b53840d]{display:inline-block;width:20%;vertical-align:middle}.good .name-property[data-v-0b53840d]{display:inline-block;margin-left:8px;vertical-align:middle;width:75%}.good .name-property .name[data-v-0b53840d]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;margin:5px 0}.good .name-property .property .property-item[data-v-0b53840d]{display:inline-block;margin-right:8px}",""])},1029:function(t,e,i){e=t.exports=i(6)(),e.push([t.i,".disable[data-v-21ebf301]{color:red}.price[data-v-21ebf301]{display:block}.good[data-v-21ebf301]{text-align:left}.good .good-img[data-v-21ebf301]{display:inline-block;width:20%;vertical-align:middle}.good .name-property[data-v-21ebf301]{display:inline-block;margin-left:8px;vertical-align:middle;width:75%}.good .name-property .name[data-v-21ebf301]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;margin:5px 0}.good .name-property .property .property-item[data-v-21ebf301]{display:inline-block;margin-right:8px}",""])},1051:function(t,e,i){e=t.exports=i(6)(),e.push([t.i,".btns[data-v-4ddb63cb]{margin:20px 50px}.refundAddress[data-v-4ddb63cb]{display:inline-block;margin:30px 10px 20px 50px}",""])},1079:function(t,e,i){e=t.exports=i(6)(),e.push([t.i,".pg_content[data-v-8e4ab88e]{padding:0 20px}",""])},1166:function(t,e,i){"use strict";function a(t){i(1387)}var o=i(807),r=i(1263),n=i(2),s=a,l=n(o.a,r.a,s,"data-v-4ddb63cb",null);e.a=l.exports},1167:function(t,e,i){"use strict";function a(t){i(1359)}var o=i(808),r=i(1214),n=i(2),s=a,l=n(o.a,r.a,s,"data-v-0b53840d",null);e.a=l.exports},1168:function(t,e,i){"use strict";function a(t){i(1365)}var o=i(809),r=i(1229),n=i(2),s=a,l=n(o.a,r.a,s,"data-v-21ebf301",null);e.a=l.exports},1214:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("pg-box",{attrs:{isShowBox:t.show},on:{close:t.close}},[i("div",{staticClass:"box_title"},[t._v(t._s(t.title))]),t._v(" "),0===t.type?i("el-form",{ref:"form",attrs:{model:t.form,"label-width":"100px",inline:!0}},[i("el-form-item",{attrs:{label:"订单号"}},[i("el-input",{staticClass:"input_item",attrs:{placeholder:"请输入订单号"},model:{value:t.form.condition.sheet,callback:function(e){t.form.condition.sheet=e},expression:"form.condition.sheet"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"下单时间"}},[i("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:t.form.condition.orderTime.begin,callback:function(e){t.form.condition.orderTime.begin=e},expression:"form.condition.orderTime.begin"}}),t._v("\n              至  \n            "),i("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:t.form.condition.orderTime.end,callback:function(e){t.form.condition.orderTime.end=e},expression:"form.condition.orderTime.end"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"收货人"}},[i("el-input",{staticClass:"input_item",attrs:{placeholder:"请输入收件人姓名/手机号"},model:{value:t.form.condition.linkMan,callback:function(e){t.form.condition.linkMan=e},expression:"form.condition.linkMan"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"收货地址"}},[i("pg-region",{attrs:{state:t.form.condition.state,city:t.form.condition.city,district:t.form.condition.district},on:{"update:state":function(e){t.form.condition.state=e},"update:city":function(e){t.form.condition.city=e},"update:district":function(e){t.form.condition.district=e}}})],1),t._v(" "),i("el-form-item",{attrs:{label:"商品名"}},[i("el-input",{staticClass:"input_item",attrs:{placeholder:"请输入商品关键字"},model:{value:t.form.condition.goodName,callback:function(e){t.form.condition.goodName=e},expression:"form.condition.goodName"}})],1),t._v(" "),i("el-form-item",{staticClass:"el-form-item_btns"},[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.save}},[t._v("确定")]),t._v(" "),i("el-button",{attrs:{size:"small"},on:{click:t.reset}},[t._v("清空")])],1)],1):i("div",{staticClass:"orderdetail"},[i("el-steps",{staticClass:"flagTimeline",attrs:{space:100,active:t.active}},t._l(t.editForm.orderFlagTimeLine,function(t){return i("el-step",{attrs:{title:t.text,description:t.time}})})),t._v(" "),i("div",{staticClass:"order_info"},[i("span",{staticClass:"order_info_item"},[t._v("订单编号："+t._s(t.editForm.sheet))]),t._v(" "),i("div",{staticClass:"order_info_item"},[t._v("\n                订单状态:\n                "),0===t.editForm.flag?i("span",[t._v("待付款")]):t._e(),t._v(" "),20===t.editForm.flag?i("span",[t._v("待发货")]):t._e(),t._v(" "),30===t.editForm.flag?i("span",[t._v("ERP发货")]):t._e(),t._v(" "),90===t.editForm.flag?i("span",[t._v("待收货")]):t._e(),t._v(" "),100===t.editForm.flag?i("span",[t._v("交易完成")]):t._e(),t._v(" "),95===t.editForm.flag?i("span",[t._v("已删除")]):t._e(),t._v(" "),97===t.editForm.flag?i("span",[t._v("已取消")]):t._e()]),t._v(" "),i("div",{staticClass:"order_info_item"},[t._v("\n                商城名称：售后订单\n               ")])]),t._v(" "),i("div",{staticClass:"order_content"},[i("span",{staticClass:"title"},[t._v("收货人信息:")]),t._v(" "),i("p",[t._v(t._s(t.editForm.linkMan)+" ，"+t._s(t.editForm.mobile)+"，"),i("span",[t._v(t._s(t.editForm.state))]),i("span",[t._v(t._s(t.editForm.city))]),i("span",[t._v(t._s(t.editForm.district))]),t._v("s"),i("span",[t._v(t._s(t.editForm.address))])])]),t._v(" "),i("div",{staticClass:"order_content"},[i("span",{staticClass:"title"},[t._v("订单备注:")]),t._v(" "),i("p",[t._v(t._s(t.editForm.buyerMemo?t.editForm.buyerMemo:"无"))])]),t._v(" "),i("div",{staticClass:"order_content"},[i("span",{staticClass:"title"},[t._v("快递公司:")]),t._v(" "),i("p",[t._v(t._s(t.editForm.deliveryCompanyName?t.editForm.deliveryCompanyName:"无"))])]),t._v(" "),i("div",{staticClass:"order_content"},[i("span",{staticClass:"title"},[t._v("快递单号:")]),t._v(" "),i("p",[t._v(t._s(t.editForm.deliverySheetId?t.editForm.deliverySheetId:"无"))])]),t._v(" "),i("div",{staticClass:"order_content"},[i("span",{staticClass:"title"},[t._v("商品信息")]),t._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.editForm.items,"highlight-current-row":"",border:"",stripe:""}},[i("el-table-column",{attrs:{align:"center",prop:"",label:"商品名称","min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"good"},[i("pg-img",{staticClass:"good-img",attrs:{src:e.row.imgUrl?e.row.imgUrl:""}}),t._v(" "),i("div",{staticClass:"name-property"},[i("p",{staticClass:"name"},[t._v(t._s(e.row.name))]),t._v(" "),i("div",{staticClass:"property"},[i("span",{staticClass:"property-item"},[t._v(t._s(e.row.colorName))]),t._v(" "),i("span",{staticClass:"property-item"},[t._v(t._s(e.row.sizeName))]),t._v(" "),i("span",{staticClass:"property-item"},[t._v(t._s(e.row.otherName))])])])],1)]}}])}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"price",label:"单价","min-width":"100"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"qty",label:"数量","min-width":"100"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"",label:"小计","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v("￥"+t._s(e.row.amount))]),t._v(" "),i("span",{staticClass:"activePrice"},[t._v("￥"+t._s(e.row.oriAmount))])]}}])})],1),t._v(" "),i("div",{staticClass:"price_item"},[i("span",{staticClass:"title"},[i("span",{staticStyle:{color:"red"}},[t._v(t._s(t.editForm.totalQty))]),t._v("件商品，商品总额:")]),i("span",{staticClass:"price"},[t._v("￥"+t._s(t.editForm.itemAmount))])]),t._v(" "),i("div",{staticClass:"price_item"},[i("span",{staticClass:"title"},[t._v("运费:")]),i("span",{staticClass:"price"},[t._v("￥"+t._s(t.editForm.postFee))])]),t._v(" "),i("div",{staticClass:"price_item"},[i("span",{staticClass:"title"},[t._v("支付方式:")]),i("span",{staticClass:"price"},[t._v(t._s(t.editForm.postFee))])])],1),t._v(" "),i("div",{staticClass:"order_content"},[i("span",{staticClass:"title"},[t._v("退款信息")]),t._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,"highlight-current-row":"",border:"",stripe:""}},[i("el-table-column",{attrs:{align:"center",prop:"login",label:"退款商品","min-width":"300"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"creater",label:"退款类型","min-width":"100"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"tele",label:"退款原因","min-width":"100"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"creater",label:"退款理由","min-width":"100"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"creater",label:"退款金额","min-width":"100"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"creater",label:"退款时间由","min-width":"150"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"creater",label:"退款物流信息","min-width":"150"}})],1)],1)],1),t._v(" "),i("el-button",{staticClass:"close_btn",on:{click:t.close}},[t._v("返回")])],1)},o=[],r={render:a,staticRenderFns:o};e.a=r},1229:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,"highlight-current-row":"",border:"",stripe:""},on:{"selection-change":t.selectChange}},[i("el-table-column",{attrs:{align:"center",fixed:"left",type:"selection",width:"55"}}),t._v(" "),i("el-table-column",{attrs:{type:"expand",label:"商品信息"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-table",{staticClass:"skuTable",staticStyle:{width:"50%"},attrs:{data:e.row.refundOrderItems,"highlight-current-row":"",border:""}},[i("el-table-column",{attrs:{align:"center",prop:"",label:"商品名称","min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"good"},[i("pg-img",{staticClass:"good-img",attrs:{src:e.row.imgUrl?e.row.imgUrl:""}}),t._v(" "),i("div",{staticClass:"name-property"},[i("p",{staticClass:"name"},[t._v(t._s(e.row.goodsName))]),t._v(" "),i("div",{staticClass:"property"},[i("span",{staticClass:"property-item"},[t._v(t._s(e.row.color))]),t._v(" "),i("span",{staticClass:"property-item"},[t._v(t._s(e.row.size))])])])],1)]}}])}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"price",label:"金额","min-width":"100"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"qty",label:"数量","min-width":"100"}})],1)]}}])}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"sheet",label:"订单号","min-width":"200"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"memberName",label:"买家","min-width":"150"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"",label:"实付金额","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{staticClass:"price"},[t._v("￥"+t._s(e.row.totalAmount))]),t._v(" "),i("span",{staticClass:"price"},[t._v("(含运费"+t._s(e.row.postFee)+")")])]}}])}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"sellMemo",label:"卖家备注","min-width":"200"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"note",label:"买家备注","min-width":"200"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"creater",label:"收货地址","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.stateName))]),i("span",[t._v(t._s(e.row.cityName))]),i("span",[t._v(t._s(e.row.districtName))])]}}])}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"",label:"订单状态","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.flag?i("span",[t._v("已创建")]):t._e(),t._v(" "),2===e.row.flag?i("span",[t._v("同意退货")]):t._e(),t._v(" "),3===e.row.flag?i("span",[t._v("已退货")]):t._e(),t._v(" "),4===e.row.flag?i("span",[t._v("退款成功")]):t._e(),t._v(" "),5===e.row.flag?i("span",[t._v("拒绝退款")]):t._e(),t._v(" "),6===e.row.flag?i("span",[t._v("取消退款")]):t._e()]}}])}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"createTime",label:"下单时间","min-width":"180"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",fixed:"right",label:"操作","min-width":"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("pg-button",{attrs:{icon:"chakan"},on:{click:function(i){t.edit(e.row)}}},[t._v("查看详情")]),t._v(" "),i("pg-button",{attrs:{icon:"chakan"},on:{click:function(i){t.returnGoods(e.row)}}},[t._v("同意退货")]),t._v(" "),i("pg-button",{attrs:{icon:"chakan"},on:{click:function(i){t.agreeRefund(e.row)}}},[t._v("同意退款")]),t._v(" "),i("pg-button",{attrs:{icon:"chakan"},on:{click:function(i){t.refuse(e.row)}}},[t._v("拒绝")]),t._v(" "),i("pg-button",{attrs:{icon:"chakan"},on:{click:function(i){t.noting(e.row)}}},[t._v("备注")])]}}])})],1)},o=[],r={render:a,staticRenderFns:o};e.a=r},1263:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("pg-dialog",{attrs:{isShow:t.showDialog,size:t.size},on:{close:t.close}},[i("div",{staticClass:"dialog_content"},[0===t.dialogType?i("div",{},[i("h3",[t._v("修改备注")]),t._v(" "),i("el-input",{staticClass:"textarea",attrs:{type:"textarea",rows:5,placeholder:"请输入备注内容"},model:{value:t.note,callback:function(e){t.note=e},expression:"note"}})],1):t._e(),t._v(" "),1===t.dialogType?i("div",{},[i("h3",[t._v("拒绝退款")]),t._v(" "),i("el-input",{staticClass:"textarea",attrs:{type:"textarea",rows:5,placeholder:"请输入拒绝理由"},model:{value:t.reason,callback:function(e){t.reason=e},expression:"reason"}})],1):t._e(),t._v(" "),2===t.dialogType?i("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px",rules:t.rules}},[i("el-form-item",{attrs:{label:"收货人",prop:"linkMan"}},[i("el-input",{attrs:{placeholder:"请输入收货人的名字"},model:{value:t.form.linkMan,callback:function(e){t.form.linkMan=e},expression:"form.linkMan"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"联系电话",prop:"linkTel"}},[i("el-input",{attrs:{placeholder:"请输入收货人的联系方式"},model:{value:t.form.linkTel,callback:function(e){t.form.linkTel=e},expression:"form.linkTel"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"城市",required:"",prop:"district"}},[i("pg-region",{attrs:{state:t.form.state,city:t.form.city,district:t.form.district},on:{"update:state":function(e){t.form.state=e},"update:city":function(e){t.form.city=e},"update:district":function(e){t.form.district=e}}})],1),t._v(" "),i("el-form-item",{attrs:{label:"详细地址",prop:"address"}},[i("el-input",{attrs:{placeholder:"请输入详细的收货地址"},model:{value:t.form.address,callback:function(e){t.form.address=e},expression:"form.address"}})],1)],1):t._e(),t._v(" "),i("div",{staticClass:"btns"},[i("el-button",{on:{click:t.save}},[t._v("保存")]),t._v(" "),i("el-button",{on:{click:t.close}},[t._v("关闭")])],1)],1)])},o=[],r={render:a,staticRenderFns:o};e.a=r},1317:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"customView"},[i("div",{staticClass:"pg_content"},[i("pg-search-form",{staticClass:"search",attrs:{"default-form":t.defaultQuery,more:t.moreQuery,resetForm:t.resetForm.condition,"is-show-more":t.isShowMoreQuery},on:{openMore:t.toggleOpen,search:t.search},slot:"search-form",model:{value:t.query.condition,callback:function(e){t.query.condition=e},expression:"query.condition"}}),t._v(" "),i("pg-operations",{attrs:{btns:t.operations},on:{advanceSearch:t.advanceSearch}}),t._v(" "),i("pg-table",{attrs:{list:t.customPageList},on:{"select-change":t.selectChange,edit:t.edit,returnGoods:t.returnGoods,agreeRefund:t.agreeRefund,refuse:t.refuse,noting:t.noting}}),t._v(" "),i("pg-pagination",{attrs:{"page-size":t.query.pageSize,total:t.total},on:{"size-change":t.sizeChange,"current-change":t.currentChange},slot:"pagination"})],1),t._v(" "),i("pg-edit",{attrs:{title:t.editTitle,show:t.showEdit,type:t.type,editForm:t.editForm},on:{close:t.closeEdit,refresh:t.refresh,searchOrder:t.searchOrder}}),t._v(" "),i("pg-orderdialog",{attrs:{size:t.dialogSize,showDialog:t.showDialog,dialogType:t.dialogType,order:t.refundOrder},on:{closeDialog:t.closeDialog}})],1)},o=[],r={render:a,staticRenderFns:o};e.a=r},1359:function(t,e,i){var a=i(1023);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i(16)("59a246d4",a,!0)},1365:function(t,e,i){var a=i(1029);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i(16)("a0449c84",a,!0)},1387:function(t,e,i){var a=i(1051);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i(16)("5bff055e",a,!0)},1415:function(t,e,i){var a=i(1079);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i(16)("01ba3c1e",a,!0)},265:function(t,e,i){"use strict";function a(t){i(1415)}Object.defineProperty(e,"__esModule",{value:!0});var o=i(810),r=i(1317),n=i(2),s=a,l=n(o.a,r.a,s,"data-v-8e4ab88e",null);e.default=l.exports},807:function(t,e,i){"use strict";var a=i(1),o=i.n(a),r=i(956);e.a=o()({},r.a)},808:function(t,e,i){"use strict";var a=i(1),o=i.n(a),r=i(957);e.a=o()({},r.a)},809:function(t,e,i){"use strict";var a=i(1),o=i.n(a),r=i(958);e.a=o()({},r.a)},810:function(t,e,i){"use strict";var a=i(1),o=i.n(a),r=i(959);e.a=o()({},r.a)},956:function(t,e,i){"use strict";var a=i(46),o=(i.n(a),i(30));e.a={props:{showDialog:Boolean,dialogType:Number,size:String,order:Object},data:function(){return{note:"",reason:"",list:[],form:{id:"",linkMan:"",linkTel:"",state:"",city:"",district:"",address:""},rules:{linkMan:[{required:!0,message:"请输入收货人",trigger:"blur"}],linkTel:[{required:!0,message:"请输入联系电话",trigger:"blur"}],address:[{required:!0,message:"请输入详细地址",trigger:"blur"}],district:[{required:!0,message:"请选择城市",trigger:"blur"}]}}},methods:{close:function(){this.$emit("closeDialog")},save:function(){var t=this;2===this.dialogType&&(this.form.id=this.order.refundOrderID,o.o.agreeRefundGoods(this.form).then(function(){t.$message({message:"备注成功",type:"success"}),t.refresh(),t.close()}).catch(function(e){t.$message.error(e)})),0===this.dialogType&&(this.noteForm.id=this.order.refundOrderID,o.o.modifyRemark(this.noteForm).then(function(){t.$message({message:"备注成功",type:"success"}),t.refresh(),t.close()}).catch(function(e){t.$message.error(e)})),1===this.dialogType?o.o.reject({id:this.order.refundOrderID,sellMemo:this.reason}):(this.form.id=this.order.id,this.form.postFee=this.order.postFee,this.form.amount=this.order.amount,o.o.modifyAmount(this.form).then(function(){t.$message({message:"修改成功",type:"success"}),t.refresh(),t.close()}).catch(function(e){t.$message.error(e)}))}}}},957:function(t,e,i){"use strict";var a=i(46);i.n(a),i(30);e.a={props:{title:String,show:Boolean,type:Number,editForm:Object},data:function(){return{form:{condition:{sheet:"",mobile:"",name:"",platformType:1,goodName:"",orderTime:{begin:"",end:""},linkMan:"",state:"",city:"",district:"",flag:-1},page:1,pageSize:15},resetForm:{condition:{sheet:"",mobile:"",name:"",platformType:1,goodName:"",orderTime:{begin:"",end:""},linkMan:"",state:"",city:"",district:"",flag:-1},page:1,pageSize:15},classList:[],active:0}},watch:{editForm:function(t){var e=this;this.active=0,1==this.type&&0!==this.editForm.orderFlagTimeLine.length&&this.editForm.orderFlagTimeLine.forEach(function(t){t.hasValue&&e.active++}),this.type}},methods:{close:function(){this.$emit("close"),this.reset()},save:function(){this.form.condition.platformType=this.editForm.condition.platformType,this.$emit("searchOrder",this.form),this.close()},reset:function(){this.form=i.i(a.cloneDeep)(this.resetForm),this.form.condition.state="",this.form.condition.city="",this.form.condition.district=""}}}},958:function(t,e,i){"use strict";i(30);e.a={props:{list:Array},methods:{edit:function(t){this.$emit("edit",t)},returnGoods:function(t){this.$emit("returnGoods",t)},agreeRefund:function(t){this.$emit("agreeRefund",t)},refuse:function(t){this.$emit("refuse",t)},noting:function(t){this.$emit("noting",t)},selectChange:function(t){this.$emit("select-change",t)}}}},959:function(t,e,i){"use strict";var a=i(1168),o=i(1167),r=i(1166),n=i(30),s=i(46);i.n(s);e.a={components:{PgTable:a.a,PgEdit:o.a,PgOrderdialog:r.a},data:function(){return{query:{condition:{sheet:"",linkTel:"",memberName:"",flag:-1},page:1,pageSize:15},resetForm:{condition:{sheet:"",linkTel:"",memberName:"",flag:-1},page:1,pageSize:15},total:0,selected:[],editTitle:"编辑",editForm:{},type:0,showEdit:!1,isShowMoreQuery:!1,showDialog:!1,dialogType:0,dialogSize:"small",operations:[{name:"高级搜索",action:"advanceSearch",type:"default"}],customPageList:[],refundOrder:{}}},computed:{defaultQuery:{get:function(){return[{type:"input",label:"订单号",model:"sheet"},{type:"input",label:"手机号",model:"linkTel"}]}},moreQuery:{get:function(){return[{type:"input",label:"买家名称",model:"memberName"},{type:"select",label:"订单状态",text:"title",value:"value",model:"flag",options:[{title:"全部",value:-1},{title:"待付款",value:0},{title:"待发货",value:1},{title:"已发货",value:2},{title:"交易完成",value:3}]}]}}},mounted:function(){this.getCustomPageList()},methods:{getCustomPageList:function(){var t=this;n.o.getRefundOrderPageList(this.query).then(function(e){t.customPageList=e.data,t.total=e.totalCount})},toggleOpen:function(t){this.isShowMoreQuery=t},search:function(){this.query.page=1,this.getCustomPageList()},selectChange:function(t){this.selected=t},currentChange:function(t){this.query.page=t,this.getCustomPageList()},sizeChange:function(t){this.query.pageSize=t,this.getCustomPageList()},edit:function(t){var e=this;this.showEdit=!0,this.type=1,this.editTitle="订单详情",n.o.getOrderDetail(t.id).then(function(t){e.editForm=t})},advanceSearch:function(){this.showEdit=!0,this.type=0,this.editTitle="高级搜索",this.editForm=i.i(s.cloneDeep)(this.query)},searchOrder:function(t){var e=this;n.o.getPageList(t).then(function(t){e.customPageList=t.data,e.total=t.totalCount})},returnGoods:function(t){this.dialogType=2,this.showDialog=!0,this.refundOrder=t},agreeRefund:function(t){var e=this;this.$confirm("您确定退回款项给买家?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.o.agree(t.refundOrderID).then(function(){e.$message({message:"操作成功",type:"success"}),e.refresh()}).catch(function(t){e.$message.error(t)})})},noting:function(t){this.dialogType=0,this.showDialog=!0,this.refundOrder=t},closeDialog:function(){this.showDialog=!1},refuse:function(t){this.dialogType=1,this.showDialog=!0,this.refundOrder=t},refresh:function(){this.query.page=1,this.getCustomPageList()},closeEdit:function(){this.showEdit=!1}}}}});