webpackJsonp([17],{1032:function(e,t,i){t=e.exports=i(6)(),t.push([e.i,".pg_content[data-v-26ea9e81]{padding:0 20px}",""])},1061:function(e,t,i){t=e.exports=i(6)(),t.push([e.i,".el-form-item_btns[data-v-62e4eed5]{display:block}.close_btn[data-v-62e4eed5]{margin-top:20px}",""])},1078:function(e,t,i){t=e.exports=i(6)(),t.push([e.i,".disable[data-v-86f03d8e]{color:red}",""])},1124:function(e,t,i){"use strict";function o(e){i(1397)}var n=i(748),a=i(1281),s=i(2),r=o,l=s(n.a,a.a,r,"data-v-62e4eed5",null);t.a=l.exports},1125:function(e,t,i){"use strict";function o(e){i(1414)}var n=i(749),a=i(1313),s=i(2),r=o,l=s(n.a,a.a,r,"data-v-86f03d8e",null);t.a=l.exports},1233:function(e,t,i){"use strict";var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"customView"},[i("pg-search-form",{staticClass:"search",attrs:{"default-form":e.defaultQuery,more:e.moreQuery,resetForm:e.resetForm.condition,"is-show-more":e.isShowMoreQuery},on:{openMore:e.toggleOpen,search:e.search},slot:"search-form",model:{value:e.query.condition,callback:function(t){e.query.condition=t},expression:"query.condition"}}),e._v(" "),i("div",{staticClass:"pg_content"},[i("pg-operations",{attrs:{btns:e.operations},on:{record:e.record,advanceSearch:e.advanceSearch}}),e._v(" "),i("pg-table",{attrs:{list:e.customPageList},on:{soldOut:e.soldOut}}),e._v(" "),i("pg-pagination",{attrs:{"page-size":e.query.pageSize,total:e.total},on:{"size-change":e.sizeChange,"current-change":e.currentChange},slot:"pagination"})],1),e._v(" "),i("pg-edit",{attrs:{title:e.editTitle,show:e.showEdit},on:{close:e.closeEdit,searchGoods:e.searchGoods}})],1)},n=[],a={render:o,staticRenderFns:n};t.a=a},1281:function(e,t,i){"use strict";var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("pg-box",{attrs:{isShowBox:e.show},on:{close:e.close}},[i("div",{staticClass:"box_title"},[e._v(e._s(e.title))]),e._v(" "),i("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px",inline:!0}},[i("el-form-item",{attrs:{label:"商品名称"}},[i("el-input",{staticClass:"input_item",attrs:{placeholder:"请输入商品名称"},model:{value:e.query.condition.proName,callback:function(t){e.query.condition.proName=t},expression:"query.condition.proName"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"商品编码"}},[i("el-input",{staticClass:"input_item",attrs:{placeholder:"请输入商品编码"},model:{value:e.query.condition.customNo,callback:function(t){e.query.condition.customNo=t},expression:"query.condition.customNo"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"商品分类"}},[i("el-select",{staticClass:"input_item",model:{value:e.query.condition.deptID,callback:function(t){e.query.condition.deptID=t},expression:"query.condition.deptID"}},e._l(e.classList,function(e){return i("el-option",{attrs:{label:e.name,value:e.deptID}})}))],1),e._v(" "),i("el-form-item",{attrs:{label:"兑换积分"}},[i("el-input",{staticClass:"input_item",attrs:{placeholder:"兑换积分"},model:{value:e.query.condition.integral,callback:function(t){e.query.condition.integral=t},expression:"query.condition.integral"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"有效期",prop:"roleID"}},[i("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:e.query.condition.beginTime,callback:function(t){e.query.condition.beginTime=t},expression:"query.condition.beginTime"}}),e._v("\n              至  \n            "),i("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:e.query.condition.endTime,callback:function(t){e.query.condition.endTime=t},expression:"query.condition.endTime"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"剩余兑换"}},[i("el-radio-group",{model:{value:e.query.condition.maxRatio,callback:function(t){e.query.condition.maxRatio=t},expression:"query.condition.maxRatio"}},[i("el-radio",{attrs:{label:50}},[e._v("大于50%")]),e._v(" "),i("el-radio",{attrs:{label:30}},[e._v("10%-50%")]),e._v(" "),i("el-radio",{attrs:{label:10}},[e._v("小于10%")])],1)],1),e._v(" "),i("el-form-item",{staticClass:"el-form-item_btns"},[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.save}},[e._v("确定")]),e._v(" "),i("el-button",{attrs:{size:"small"},on:{click:e.reset}},[e._v("清空")]),e._v(" "),i("el-button",{attrs:{size:"small"},on:{click:e.close}},[e._v("返回")])],1)],1)],1)},n=[],a={render:o,staticRenderFns:n};t.a=a},1313:function(e,t,i){"use strict";var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,"highlight-current-row":"",border:"",stripe:""}},[i("el-table-column",{attrs:{align:"center",prop:"proName",label:"商品名称","min-width":"200"}}),e._v(" "),i("el-table-column",{attrs:{align:"center",prop:"integral",label:"兑换条件","min-width":"150"}}),e._v(" "),i("el-table-column",{attrs:{align:"center",prop:"maxQty",label:"兑换总量","min-width":"150"}}),e._v(" "),i("el-table-column",{attrs:{align:"center",prop:"minQty",label:"剩余兑换量","min-width":"150"}}),e._v(" "),i("el-table-column",{attrs:{align:"center",prop:"maxRatio",label:"兑换比例","min-width":"150"}}),e._v(" "),i("el-table-column",{attrs:{align:"center",prop:"status",label:"状态","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.flag?i("span",[e._v("进心中")]):e._e(),e._v(" "),1===t.row.flag?i("span",[e._v("未开始")]):e._e(),e._v(" "),2===t.row.flag?i("span",[e._v("已结束")]):e._e()]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"center",prop:"",label:"有效期","min-width":"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.beginTime)+" - "+e._s(t.row.endTime))])]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"center",fixed:"right",label:"操作","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("pg-button",{attrs:{icon:"chakan"},on:{click:function(i){e.soldOut(t.row)}}},[e._v("下线")])]}}])})],1)},n=[],a={render:o,staticRenderFns:n};t.a=a},1368:function(e,t,i){var o=i(1032);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);i(16)("ce5806e2",o,!0)},1397:function(e,t,i){var o=i(1061);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);i(16)("56e65f06",o,!0)},1414:function(e,t,i){var o=i(1078);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);i(16)("062e9a70",o,!0)},249:function(e,t,i){"use strict";function o(e){i(1368)}Object.defineProperty(t,"__esModule",{value:!0});var n=i(750),a=i(1233),s=i(2),r=o,l=s(n.a,a.a,r,"data-v-26ea9e81",null);t.default=l.exports},748:function(e,t,i){"use strict";var o=i(1),n=i.n(o),a=i(897);t.a=n()({},a.a)},749:function(e,t,i){"use strict";var o=i(1),n=i.n(o),a=i(898);t.a=n()({},a.a)},750:function(e,t,i){"use strict";var o=i(1),n=i.n(o),a=i(899);t.a=n()({},a.a)},897:function(e,t,i){"use strict";var o=i(46),n=(i.n(o),i(30));t.a={props:{title:String,show:Boolean},data:function(){return{query:{condition:{proName:"",customNo:"",deptID:"",integral:"",beginTime:"",endTime:"",maxRatio:0,flag:-1},page:1,pageSize:15},resetQuery:{condition:{proName:"",customNo:"",deptID:"",integral:"",beginTime:"",endTime:"",maxRatio:0,flag:-1},page:1,pageSize:15},classList:[]}},mounted:function(){this.getGoodsTree()},methods:{getGoodsTree:function(){var e=this;n.e.getGoodsTree().then(function(t){e.classList=[],t.forEach(function(t){e.classList.push({name:t.name,deptID:t.deptID})})})},close:function(){this.$emit("close")},save:function(){this.$emit("searchGoods",this.query),this.close()},reset:function(){this.query=i.i(o.cloneDeep)(this.resetQuery)}}}},898:function(e,t,i){"use strict";i(30);t.a={props:{list:Array},methods:{soldOut:function(e){this.$emit("edit",e)}}}},899:function(e,t,i){"use strict";var o=i(1125),n=i(1124),a=i(30);t.a={components:{PgTable:o.a,PgEdit:n.a},data:function(){return{query:{condition:{proName:"",customNo:"",deptID:"",integral:"",beginTime:"",endTime:"",maxRatio:0,flag:-1},page:1,pageSize:15},resetForm:{condition:{proName:"",customNo:"",deptID:"",integral:"",beginTime:"",endTime:"",maxRatio:0,flag:-1},page:1,pageSize:15},total:0,editTitle:"编辑",exchangeLiat:[],showEdit:!1,isShowMoreQuery:!1,operations:[{name:"兑换记录",action:"record",type:"primary"},{name:"高级搜索",action:"advanceSearch",type:"default"}],customPageList:[]}},computed:{defaultQuery:{get:function(){return[{type:"input",label:"商品名称",model:"proName"},{type:"select",label:"活动状态",text:"title",value:"value",model:"flag",options:[{title:"全部",value:-1},{title:"进行中",value:0},{title:"未开始",value:1},{title:"已结束",value:2}]}]}},moreQuery:{get:function(){return[]}}},mounted:function(){this.getCustomPageList()},methods:{getCustomPageList:function(){var e=this;a.f.getGoodsPageList(this.query).then(function(t){e.customPageList=t.data,e.total=t.totalCount})},toggleOpen:function(e){this.isShowMoreQuery=e},search:function(){this.query.page=1,this.getCustomPageList()},currentChange:function(e){this.query.page=e,this.getCustomPageList()},sizeChange:function(e){this.query.pageSize=e,this.getCustomPageList()},soldOut:function(e){var t=this;this.$confirm("您确定下线该商品?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.f.soldOutGoods(e.integralExchangeID).then(function(){t.$message({message:"操作成功",type:"success"}),t.refresh()}).catch(function(e){t.$message.error(e)})})},advanceSearch:function(){this.showEdit=!0,this.editTitle="高级搜索"},searchGoods:function(e){var t=this;a.f.getGoodsPageList(e).then(function(e){t.customPageList=e.data,t.total=e.totalCount})},record:function(){this.$router.push({path:"/exchangeList"})},refresh:function(){this.query.page=1,this.getCustomPageList()},closeEdit:function(){this.showEdit=!1}}}}});