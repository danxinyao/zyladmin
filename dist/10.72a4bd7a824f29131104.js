webpackJsonp([10],{1031:function(t,e,i){e=t.exports=i(6)(),e.push([t.i,".el-form-item_btns[data-v-25453bf1]{display:block}.close_btn[data-v-25453bf1]{margin-top:20px}.flagTimeline[data-v-25453bf1]{text-align:center}.order_info[data-v-25453bf1]{margin:20px 0;background-color:#eff2f7;height:50px;line-height:50px;font-size:0;width:100%}.order_info .order_info_item[data-v-25453bf1]{display:inline-block;text-align:center;font-size:16px;width:30%}.order_info .order_info_item[data-v-25453bf1]:first-child{min-width:270px}.order_content[data-v-25453bf1]{padding:0 20px;border:1px solid #e5e9f2;margin:10px 0}.order_content .title[data-v-25453bf1]{display:block;margin:10px 0}.order_content .price_item[data-v-25453bf1]{margin:15px;text-align:right}.order_content .price_item .price[data-v-25453bf1],.order_content .price_item .title[data-v-25453bf1]{display:inline-block;width:150px;text-align:right}.activePrice[data-v-25453bf1]{text-decoration:line-through}.good[data-v-25453bf1]{text-align:left}.good .good-img[data-v-25453bf1]{display:inline-block;width:20%;vertical-align:middle}.good .name-property[data-v-25453bf1]{display:inline-block;margin-left:8px;vertical-align:middle;width:75%}.good .name-property .name[data-v-25453bf1]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;margin:5px 0}.good .name-property .property .property-item[data-v-25453bf1]{display:inline-block;margin-right:8px}",""])},1048:function(t,e,i){e=t.exports=i(6)(),e.push([t.i,".disable[data-v-4631379d]{color:red}.price[data-v-4631379d]{display:block}.good[data-v-4631379d]{text-align:left}.good .good-img[data-v-4631379d]{display:inline-block;width:20%;vertical-align:middle}.good .name-property[data-v-4631379d]{display:inline-block;margin-left:8px;vertical-align:middle;width:75%}.good .name-property .name[data-v-4631379d]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;margin:5px 0}.good .name-property .property .property-item[data-v-4631379d]{display:inline-block;margin-right:8px}",""])},1068:function(t,e,i){e=t.exports=i(6)(),e.push([t.i,".pg_content[data-v-7160a39d]{padding:0 20px}.tabs[data-v-7160a39d]{background-color:#fff}",""])},1082:function(t,e,i){e=t.exports=i(6)(),e.push([t.i,".btns[data-v-9b829aa2]{margin:20px auto}.totalPrice[data-v-9b829aa2]{font-size:14px;margin-top:10px}.modifyPrice[data-v-9b829aa2]{width:100%}.modifyPrice .header[data-v-9b829aa2]{display:table;width:96%;border:1px solid rgba(199,205,225,.5)}.modifyPrice .header .header-item[data-v-9b829aa2]{display:table-cell;width:16%;text-align:center;padding:10px;border-right:1px solid rgba(199,205,225,.5)}.modifyPrice .header .header-item[data-v-9b829aa2]:last-child{border-right:none}.modifyPrice .table-body[data-v-9b829aa2]{display:table;width:96%;border:1px solid rgba(199,205,225,.5);border-top:none}.modifyPrice .table-body .body-left[data-v-9b829aa2]{display:table-cell;width:64%;vertical-align:middle}.modifyPrice .table-body .body-left .td-item[data-v-9b829aa2]{display:table-cell;width:25%;text-align:center;padding:10px;border-right:1px solid rgba(199,205,225,.5);border-bottom:1px solid rgba(199,205,225,.5);vertical-align:middle}.modifyPrice .table-body .body-left .td-item[data-v-9b829aa2]:last-child{border-bottom:none}.modifyPrice .table-body .body-right[data-v-9b829aa2]{display:table-cell;width:16%;vertical-align:middle;border-right:1px solid rgba(199,205,225,.5);padding:0 5px}",""])},1163:function(t,e,i){"use strict";function a(t){i(1418)}var o=i(803),n=i(1322),s=i(2),r=a,l=s(o.a,n.a,r,"data-v-9b829aa2",null);e.a=l.exports},1164:function(t,e,i){"use strict";function a(t){i(1367)}var o=i(804),n=i(1232),s=i(2),r=a,l=s(o.a,n.a,r,"data-v-25453bf1",null);e.a=l.exports},1165:function(t,e,i){"use strict";function a(t){i(1384)}var o=i(805),n=i(1257),s=i(2),r=a,l=s(o.a,n.a,r,"data-v-4631379d",null);e.a=l.exports},1232:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("pg-box",{attrs:{isShowBox:t.show},on:{close:t.close}},[i("div",{staticClass:"box_title"},[t._v(t._s(t.title))]),t._v(" "),0===t.type?i("el-form",{ref:"form",attrs:{model:t.form,"label-width":"100px",inline:!0}},[i("el-form-item",{attrs:{label:"订单号"}},[i("el-input",{staticClass:"input_item",attrs:{placeholder:"请输入订单号"},model:{value:t.form.condition.sheet,callback:function(e){t.form.condition.sheet=e},expression:"form.condition.sheet"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"下单时间"}},[i("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:t.form.condition.orderTime.begin,callback:function(e){t.form.condition.orderTime.begin=e},expression:"form.condition.orderTime.begin"}}),t._v("\n              至  \n            "),i("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:t.form.condition.orderTime.end,callback:function(e){t.form.condition.orderTime.end=e},expression:"form.condition.orderTime.end"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"收货人"}},[i("el-input",{staticClass:"input_item",attrs:{placeholder:"请输入收件人姓名/手机号"},model:{value:t.form.condition.linkMan,callback:function(e){t.form.condition.linkMan=e},expression:"form.condition.linkMan"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"收货地址"}},[i("pg-region",{attrs:{state:t.form.condition.state,city:t.form.condition.city,district:t.form.condition.district},on:{"update:state":function(e){t.form.condition.state=e},"update:city":function(e){t.form.condition.city=e},"update:district":function(e){t.form.condition.district=e}}})],1),t._v(" "),i("el-form-item",{attrs:{label:"商品名"}},[i("el-input",{staticClass:"input_item",attrs:{placeholder:"请输入商品关键字"},model:{value:t.form.condition.goodName,callback:function(e){t.form.condition.goodName=e},expression:"form.condition.goodName"}})],1),t._v(" "),i("el-form-item",{staticClass:"el-form-item_btns"},[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.save}},[t._v("确定")]),t._v(" "),i("el-button",{attrs:{size:"small"},on:{click:t.reset}},[t._v("清空")])],1)],1):i("div",{staticClass:"orderdetail"},[i("el-steps",{staticClass:"flagTimeline",attrs:{space:100,active:t.active}},t._l(t.editForm.orderFlagTimeLine,function(t){return i("el-step",{attrs:{title:t.text,description:t.time}})})),t._v(" "),i("div",{staticClass:"order_info"},[i("span",{staticClass:"order_info_item"},[t._v("订单编号："+t._s(t.editForm.sheet))]),t._v(" "),i("div",{staticClass:"order_info_item"},[t._v("\n                订单状态:\n                "),0===t.editForm.flag?i("span",[t._v("待付款")]):t._e(),t._v(" "),20===t.editForm.flag?i("span",[t._v("待发货")]):t._e(),t._v(" "),30===t.editForm.flag?i("span",[t._v("ERP发货")]):t._e(),t._v(" "),90===t.editForm.flag?i("span",[t._v("待收货")]):t._e(),t._v(" "),100===t.editForm.flag?i("span",[t._v("交易完成")]):t._e(),t._v(" "),95===t.editForm.flag?i("span",[t._v("已删除")]):t._e(),t._v(" "),97===t.editForm.flag?i("span",[t._v("已取消")]):t._e()]),t._v(" "),i("div",{staticClass:"order_info_item"},[t._v("\n                商城名称：\n                "),1===t.editForm.platformType?i("span",[t._v("紫云来商城")]):t._e(),t._v(" "),2===t.editForm.platformType?i("span",[t._v("懿城商城")]):t._e(),t._v(" "),3===t.editForm.platformType?i("span",[t._v("3茶都商城")]):t._e()])]),t._v(" "),i("div",{staticClass:"order_content"},[i("span",{staticClass:"title"},[t._v("收货人信息:")]),t._v(" "),i("p",[t._v(t._s(t.editForm.linkMan)+" ，"+t._s(t.editForm.mobile)+"，"),i("span",[t._v(t._s(t.editForm.state))]),i("span",[t._v(t._s(t.editForm.city))]),i("span",[t._v(t._s(t.editForm.district))]),t._v("s"),i("span",[t._v(t._s(t.editForm.address))])])]),t._v(" "),i("div",{staticClass:"order_content"},[i("span",{staticClass:"title"},[t._v("订单备注:")]),t._v(" "),i("p",[t._v(t._s(t.editForm.buyerMemo?t.editForm.buyerMemo:"无"))])]),t._v(" "),i("div",{staticClass:"order_content"},[i("span",{staticClass:"title"},[t._v("快递公司:")]),t._v(" "),i("p",[t._v(t._s(t.editForm.deliveryCompanyName?t.editForm.deliveryCompanyName:"无"))])]),t._v(" "),i("div",{staticClass:"order_content"},[i("span",{staticClass:"title"},[t._v("快递单号:")]),t._v(" "),i("p",[t._v(t._s(t.editForm.deliverySheetId?t.editForm.deliverySheetId:"无"))])]),t._v(" "),i("div",{staticClass:"order_content"},[i("span",{staticClass:"title"},[t._v("商品信息")]),t._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.editForm.items,"highlight-current-row":"",border:"",stripe:""}},[i("el-table-column",{attrs:{align:"center",prop:"",label:"商品名称","min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"good"},[i("pg-img",{staticClass:"good-img",attrs:{src:e.row.imgUrl?e.row.imgUrl:""}}),t._v(" "),i("div",{staticClass:"name-property"},[i("p",{staticClass:"name"},[t._v(t._s(e.row.name))]),t._v(" "),i("div",{staticClass:"property"},[i("span",{staticClass:"property-item"},[t._v(t._s(e.row.colorName))]),t._v(" "),i("span",{staticClass:"property-item"},[t._v(t._s(e.row.sizeName))]),t._v(" "),i("span",{staticClass:"property-item"},[t._v(t._s(e.row.otherName))])])])],1)]}}])}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"price",label:"单价","min-width":"100"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"qty",label:"数量","min-width":"100"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"",label:"小计","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v("￥"+t._s(e.row.amount))]),t._v(" "),i("span",{staticClass:"activePrice"},[t._v("￥"+t._s(e.row.oriAmount))])]}}])})],1),t._v(" "),i("div",{staticClass:"price_item"},[i("span",{staticClass:"title"},[i("span",{staticStyle:{color:"red"}},[t._v(t._s(t.editForm.totalQty))]),t._v("件商品，商品总额:")]),i("span",{staticClass:"price"},[t._v("￥"+t._s(t.editForm.itemAmount))])]),t._v(" "),i("div",{staticClass:"price_item"},[i("span",{staticClass:"title"},[t._v("运费:")]),i("span",{staticClass:"price"},[t._v("￥"+t._s(t.editForm.postFee))])]),t._v(" "),i("div",{staticClass:"price_item"},[i("span",{staticClass:"title"},[t._v("支付方式:")]),i("span",{staticClass:"price"},[t._v(t._s(t.editForm.postFee))])])],1)],1),t._v(" "),i("el-button",{staticClass:"close_btn",on:{click:t.close}},[t._v("返回")])],1)},o=[],n={render:a,staticRenderFns:o};e.a=n},1257:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,"highlight-current-row":"",border:"",stripe:""},on:{"selection-change":t.selectChange}},[i("el-table-column",{attrs:{align:"center",fixed:"left",type:"selection",width:"55"}}),t._v(" "),i("el-table-column",{attrs:{type:"expand",label:"商品信息"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-table",{staticClass:"skuTable",staticStyle:{width:"50%"},attrs:{data:e.row.items,"highlight-current-row":"",border:""}},[i("el-table-column",{attrs:{align:"center",prop:"",label:"商品名称","min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"good"},[i("pg-img",{staticClass:"good-img",attrs:{src:e.row.imgUrl?e.row.imgUrl:""}}),t._v(" "),i("div",{staticClass:"name-property"},[i("p",{staticClass:"name"},[t._v(t._s(e.row.name))]),t._v(" "),i("div",{staticClass:"property"},[i("span",{staticClass:"property-item"},[t._v(t._s(e.row.colorName))]),t._v(" "),i("span",{staticClass:"property-item"},[t._v(t._s(e.row.sizeName))]),t._v(" "),i("span",{staticClass:"property-item"},[t._v(t._s(e.row.otherName))])])])],1)]}}])}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"price",label:"金额","min-width":"100"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"qty",label:"数量","min-width":"100"}})],1)]}}])}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"sheet",label:"订单号","min-width":"200"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"name",label:"买家","min-width":"150"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"",label:"实付金额","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{staticClass:"price"},[t._v("￥"+t._s(e.row.totalAmount))]),t._v(" "),i("span",{staticClass:"price"},[t._v("(含运费"+t._s(e.row.postFee)+")")]),t._v(" "),i("el-button",{attrs:{type:"text"},on:{click:function(i){t.changePrice(e.row)}}},[t._v("改价")])]}}])}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"note",label:"卖家备注","min-width":"200"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"buyerMemo",label:"买家备注","min-width":"200"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"creater",label:"收货地址","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.state))]),i("span",[t._v(t._s(e.row.city))]),i("span",[t._v(t._s(e.row.district))])]}}])}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"",label:"订单状态","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.flag?i("span",[t._v("待付款")]):t._e(),t._v(" "),20===e.row.flag?i("span",[t._v("待发货")]):t._e(),t._v(" "),30===e.row.flag?i("span",[t._v("ERP发货")]):t._e(),t._v(" "),90===e.row.flag?i("span",[t._v("待收货")]):t._e(),t._v(" "),100===e.row.flag?i("span",[t._v("交易完成")]):t._e(),t._v(" "),95===e.row.flag?i("span",[t._v("已删除")]):t._e(),t._v(" "),97===e.row.flag?i("span",[t._v("已取消")]):t._e()]}}])}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"createTime",label:"下单时间","min-width":"180"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",fixed:"right",label:"操作","min-width":"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("pg-button",{attrs:{icon:"chakan"},on:{click:function(i){t.edit(e.row)}}},[t._v("查看详情")]),t._v(" "),i("pg-button",{attrs:{icon:"chakan"},on:{click:function(i){t.confirmPay(e.row)}}},[t._v("确认付款")]),t._v(" "),i("pg-button",{attrs:{icon:"chakan"},on:{click:function(i){t.noting(e.row)}}},[t._v("备注")])]}}])})],1)},o=[],n={render:a,staticRenderFns:o};e.a=n},1294:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"customView"},[i("el-tabs",{staticClass:"tabs",attrs:{type:"card"},on:{"tab-click":t.handleClick}},[i("el-tab-pane",{attrs:{label:"紫云来商城"}}),t._v(" "),i("el-tab-pane",{attrs:{label:"懿城商城"}}),t._v(" "),i("el-tab-pane",{attrs:{label:"茶都商城"}})],1),t._v(" "),i("pg-search-form",{attrs:{"default-form":t.defaultQuery,more:t.moreQuery,resetForm:t.resetForm.condition,"is-show-more":t.isShowMoreQuery},on:{openMore:t.toggleOpen,search:t.search},slot:"search-form",model:{value:t.query.condition,callback:function(e){t.query.condition=e},expression:"query.condition"}}),t._v(" "),i("div",{staticClass:"pg_content"},[i("pg-operations",{attrs:{btns:t.operations},on:{exportOrder:t.exportOrder,confirmPay:t.confirmPay,noting:t.noting,del:t.del,advanceSearch:t.advanceSearch}}),t._v(" "),i("pg-table",{attrs:{list:t.customPageList},on:{"select-change":t.selectChange,edit:t.edit,changePrice:t.changePrice,confirmPay:t.confirmPay,noting:t.noting}}),t._v(" "),i("pg-pagination",{attrs:{"page-size":t.query.pageSize,total:t.total},on:{"size-change":t.sizeChange,"current-change":t.currentChange},slot:"pagination"})],1),t._v(" "),i("pg-edit",{attrs:{title:t.editTitle,show:t.showEdit,type:t.type,editForm:t.editForm},on:{close:t.closeEdit,refresh:t.refresh,searchOrder:t.searchOrder}}),t._v(" "),i("pg-orderdialog",{attrs:{size:t.dialogSize,showDialog:t.showDialog,dialogType:t.dialogType,order:t.order},on:{closeDialog:t.closeDialog,refresh:t.refresh}})],1)},o=[],n={render:a,staticRenderFns:o};e.a=n},1322:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("pg-dialog",{attrs:{isShow:t.showDialog,size:t.size},on:{close:t.close}},[i("div",{staticClass:"dialog_content"},[0===t.dialogType?i("div",{staticClass:"note",attrs:{class:"note"}},[i("h3",[t._v("修改备注")]),t._v(" "),i("el-input",{staticClass:"textarea",attrs:{type:"textarea",rows:5,placeholder:"请输入备注内容"},model:{value:t.noteForm.note,callback:function(e){t.noteForm.note=e},expression:"noteForm.note"}})],1):t._e(),t._v(" "),1===t.dialogType?i("div",{staticClass:"modifyPrice"},[i("h3",{staticClass:"title"},[t._v("修改价格")]),t._v(" "),i("div",{staticClass:"header"},[i("span",{staticClass:"header-item"},[t._v("名称")]),i("span",{staticClass:"header-item"},[t._v("数量")]),i("span",{staticClass:"header-item"},[t._v("单价")]),i("span",{staticClass:"header-item"},[t._v("折扣优惠")]),i("span",{staticClass:"header-item"},[t._v("邮费")]),i("span",{staticClass:"header-item"},[t._v("应付总额")])]),t._v(" "),i("div",{staticClass:"table-body"},[i("div",{staticClass:"body-left"},t._l(t.order.items,function(e){return i("div",{staticClass:"left-item"},[i("span",{staticClass:"td-item"},[t._v(t._s(e.name))]),t._v(" "),i("span",{staticClass:"td-item"},[t._v(t._s(e.qty))]),t._v(" "),i("span",{staticClass:"td-item"},[t._v(t._s(e.price))]),t._v(" "),i("div",{staticClass:"td-item"},[0!==e.oriAmount?i("span",[t._v(t._s(e.amount/e.oriAmount))]):i("span",[t._v("0")])])])})),t._v(" "),i("div",{staticClass:"body-right"},[i("el-input",{staticClass:"input-item",model:{value:t.order.postFee,callback:function(e){t.order.postFee=e},expression:"order.postFee"}})],1),t._v(" "),i("div",{staticClass:"body-right"},[i("el-input",{staticClass:"input-item",model:{value:t.order.totalAmount,callback:function(e){t.order.totalAmount=e},expression:"order.totalAmount"}})],1)]),t._v(" "),i("div",{staticClass:"totalPrice"},[t._v("\n                优惠后实付：￥"+t._s(t.order.totalAmount)+"\n            ")])]):t._e(),t._v(" "),i("div",{staticClass:"btns"},[i("el-button",{on:{click:t.save}},[t._v("保存")]),t._v(" "),i("el-button",{on:{click:t.close}},[t._v("关闭")])],1)])])},o=[],n={render:a,staticRenderFns:o};e.a=n},1367:function(t,e,i){var a=i(1031);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i(16)("4ef048b2",a,!0)},1384:function(t,e,i){var a=i(1048);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i(16)("97732e3a",a,!0)},1404:function(t,e,i){var a=i(1068);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i(16)("0bca4336",a,!0)},1418:function(t,e,i){var a=i(1082);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i(16)("4334ce10",a,!0)},264:function(t,e,i){"use strict";function a(t){i(1404)}Object.defineProperty(e,"__esModule",{value:!0});var o=i(806),n=i(1294),s=i(2),r=a,l=s(o.a,n.a,r,"data-v-7160a39d",null);e.default=l.exports},803:function(t,e,i){"use strict";var a=i(1),o=i.n(a),n=i(952);e.a=o()({},n.a)},804:function(t,e,i){"use strict";var a=i(1),o=i.n(a),n=i(953);e.a=o()({},n.a)},805:function(t,e,i){"use strict";var a=i(1),o=i.n(a),n=i(954);e.a=o()({},n.a)},806:function(t,e,i){"use strict";var a=i(1),o=i.n(a),n=i(955);e.a=o()({},n.a)},952:function(t,e,i){"use strict";var a=i(46),o=(i.n(a),i(30));e.a={props:{showDialog:Boolean,dialogType:Number,size:String,order:Object},data:function(){return{noteForm:{id:"",note:""},form:{id:"",postFee:0,amount:0},height:4.5}},watch:{"order.id":function(){0===this.dialogType?(this.noteForm.id=this.order.id,this.noteForm.note=this.order.note):(this.form.id=this.order.id,this.form.postFee=this.order.postFee,this.form.amount=this.order.amount)}},methods:{close:function(){this.$emit("closeDialog")},save:function(){var t=this;0===this.dialogType?o.o.modifyRemark(this.noteForm).then(function(){t.$message({message:"备注成功",type:"success"}),t.refresh(),t.close()}):o.o.modifyAmount(this.form).then(function(){t.$message({message:"修改成功",type:"success"}),t.refresh(),t.close()}).catch(function(e){t.$message.error(e)})},refresh:function(){this.$emit("refresh")}}}},953:function(t,e,i){"use strict";var a=i(46);i.n(a),i(30);e.a={props:{title:String,show:Boolean,type:Number,editForm:Object},data:function(){return{form:{condition:{sheet:"",mobile:"",name:"",platformType:1,goodName:"",orderTime:{begin:"",end:""},linkMan:"",state:"",city:"",district:"",flag:-1},page:1,pageSize:15},resetForm:{condition:{sheet:"",mobile:"",name:"",platformType:1,goodName:"",orderTime:{begin:"",end:""},linkMan:"",state:"",city:"",district:"",flag:-1},page:1,pageSize:15},classList:[],active:0}},watch:{editForm:function(t){var e=this;this.active=0,1==this.type&&0!==this.editForm.orderFlagTimeLine.length&&this.editForm.orderFlagTimeLine.forEach(function(t){t.hasValue&&e.active++})}},methods:{close:function(){this.$emit("close"),this.reset()},save:function(){this.form.condition.platformType=this.editForm.condition.platformType,this.$emit("searchOrder",this.form),this.close()},reset:function(){this.form=i.i(a.cloneDeep)(this.resetForm),this.form.condition.state="",this.form.condition.city="",this.form.condition.district=""}}}},954:function(t,e,i){"use strict";i(30);e.a={props:{list:Array},methods:{edit:function(t){this.$emit("edit",t)},changePrice:function(t){this.$emit("changePrice",t)},confirmPay:function(t){this.$emit("confirmPay",t)},noting:function(t){this.$emit("noting",t)},selectChange:function(t){this.$emit("select-change",t)}}}},955:function(t,e,i){"use strict";var a=i(1165),o=i(1164),n=i(1163),s=i(46),r=(i.n(s),i(30));e.a={components:{PgTable:a.a,PgEdit:o.a,PgOrderdialog:n.a},data:function(){return{isShowMoreQuery:!1,query:{condition:{sheet:"",mobile:"",name:"",platformType:1,goodName:"",orderTime:{begin:"",end:""},linkMan:"",state:"",city:"",district:"",flag:-1},page:1,pageSize:15},resetForm:{condition:{sheet:"",mobile:"",name:"",platformType:1,goodName:"",orderTime:{begin:"",end:""},linkMan:"",state:"",city:"",district:"",flag:-1},page:1,pageSize:15},total:0,selected:[],editTitle:"编辑",editForm:{},type:0,showEdit:!1,showDialog:!1,dialogType:0,dialogSize:"small",operations:[{name:"订单导出",action:"exportOrder",type:"primary"},{name:"删除",action:"del",type:"default"},{name:"高级搜索",action:"advanceSearch",type:"default"}],customPageList:[],order:{}}},computed:{defaultQuery:{get:function(){return[{type:"input",label:"订单号",model:"sheet"},{type:"input",label:"手机号",model:"mobile"}]}},moreQuery:{get:function(){return[{type:"input",label:"买家名称",model:"name"},{type:"select",label:"订单状态",text:"title",value:"value",model:"flag",options:[{title:"全部",value:-1},{title:"待付款",value:0},{title:"待发货",value:1},{title:"已发货",value:2},{title:"交易完成",value:3}]}]}}},mounted:function(){this.getCustomPageList()},methods:{getCustomPageList:function(){var t=this;r.o.getPageList(this.query).then(function(e){t.customPageList=e.data,t.total=e.totalCount})},toggleOpen:function(t){this.isShowMoreQuery=t},search:function(){this.query.page=1,this.getCustomPageList()},selectChange:function(t){this.selected=t},currentChange:function(t){this.query.page=t,this.getCustomPageList()},sizeChange:function(t){this.query.pageSize=t,this.getCustomPageList()},edit:function(t){var e=this;this.showEdit=!0,this.type=1,this.editTitle="订单详情",r.o.getOrderDetail(t.id).then(function(t){e.editForm=t,e.editForm.platformType=e.query.condition.platformType})},advanceSearch:function(){this.showEdit=!0,this.type=0,this.editTitle="高级搜索",this.editForm=i.i(s.cloneDeep)(this.query)},searchOrder:function(t){var e=this;r.o.getPageList(t).then(function(t){e.customPageList=t.data,e.total=t.totalCount})},exportOrder:function(){},confirmPay:function(t){var e=this;this.$confirm("您确定要确认此订单已付款?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){r.o.modifyPayState(t.id).then(function(){e.$message({message:"操作成功",type:"success"}),e.refresh()}).catch(function(t){e.$message.error(t)})})},changePrice:function(t){this.dialogType=1,this.dialogSize="large",this.showDialog=!0,this.order=i.i(s.cloneDeep)(t)},noting:function(t){this.dialogType=0,this.showDialog=!0,this.order=t},closeDialog:function(){this.showDialog=!1},del:function(t){this.$confirm("您确定删除该页面, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){})},handleClick:function(t,e){this.query=i.i(s.cloneDeep)(this.resetForm),this.query.condition.platformType=parseInt(t.index)+1,this.getCustomPageList()},refresh:function(){this.query.page=1,this.getCustomPageList()},closeEdit:function(){this.showEdit=!1}}}}});